(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{28:function(e,t,n){},45:function(e,t,n){},64:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),i=n.n(r),o=(n(45),n(28),n(27)),s=n(4),u=n.n(s),l=n(19),p=n(10),d=n(9),f=n(11),h=n.n(f),j=n(2),b=(n(64),n(1));n(37).config();var m=function(){var e=Object(j.f)(),t=Object(a.useState)([]),n=Object(d.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),s=Object(d.a)(i,2),f=s[0],m=s[1],v=Object(a.useState)(1),g=Object(d.a)(v,2),O=g[0],x=g[1],k=Object(a.useState)([]),_=Object(d.a)(k,2),y=_[0],w=_[1],N=Object(a.useState)([]),S=Object(d.a)(N,2),F=S[0],C=S[1];Object(a.useEffect)((function(){(function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&page=").concat(O)).then((function(e){return r(e.data.results)})).then(c.map((function(e){return C(Object(l.a)(e.genre_ids))}))).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US")).then((function(e){return w(e.data)})).then(console.log(y)).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[O]);var U=function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,h.a.get("\n    https://api.themoviedb.org/3/search/movie?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&query=").concat(f,"&page=1&include_adult=false")).then((function(e){return r(e.data.results)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(p.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&page=").concat(O)).then((function(e){return r(e.data.results)})).catch((function(e){return console.log(e)}));case 2:A();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=Object(o.a)(Object(o.a)({},c),y);console.log(t)};return Object(b.jsxs)("div",{className:"Home",children:[Object(b.jsxs)("form",{onSubmit:U,children:[Object(b.jsx)("input",{type:"text",placeholder:"search a movie",className:"search-bar",onChange:function(e){return m(e.target.value)}}),Object(b.jsx)("input",{type:"submit",value:"Search",className:"btn"})]}),Object(b.jsx)("ul",{className:"movies-list-container",children:c.map((function(t){return Object(b.jsxs)("li",{className:"movies-list-item",onClick:function(){e.push({pathname:"/movie-details/".concat(t.id)})},children:[Object(b.jsx)("img",{className:"movie-image",src:"https://image.tmdb.org/t/p/w500/".concat(t.backdrop_path),alt:t.original_title}),t.original_title,F]},t.id)}))}),Object(b.jsxs)("div",{className:"nav-btn-container",children:[O>1?Object(b.jsx)("button",{className:"btn",value:"Previous",onClick:function(){x(O-1),E()},children:"Previous Page"}):"",Object(b.jsx)("button",{className:"btn",value:"Next",onClick:function(){x(O+1),E()},children:"Next"})]})]})},v="ADD_FAV",g="REMOVE_FAV",O=n(18);n(78);var x=Object(O.b)(null,{addFav:function(e){return{type:v,movie:e}},removeFav:function(e){return{type:g,movie:e}}})((function(e){var t=Object(j.f)(),n=Object(a.useState)([]),c=Object(d.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),s=Object(d.a)(o,2),l=s[0],f=s[1],m=Object(a.useState)([]),v=Object(d.a)(m,2),g=v[0],O=v[1],x=e.location.pathname.split("/"),k=x[x.length-1];Object(a.useEffect)((function(){(function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.themoviedb.org/3/movie/".concat(k,"?api_key=").concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US")).then((function(e){return i(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(p.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.themoviedb.org/3/movie/".concat(k,"/recommendations?api_key=").concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&page=1")).then((function(e){return O(e.data.results)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[k]);var _=l?"Remove from Favourites":"Add to favourites";return Object(b.jsxs)("div",{className:"movie-page-container",children:[Object(b.jsxs)("div",{className:"movie-container",children:[Object(b.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(r.backdrop_path),alt:r.original_title}),Object(b.jsxs)("h3",{children:["Movie Title: ",r.original_title]}),Object(b.jsxs)("h3",{children:["Language: ",r.original_language]}),Object(b.jsxs)("h3",{children:["Number Of Votes: ",r.vote_count]}),Object(b.jsxs)("h3",{children:["Genres: ",[]]}),Object(b.jsx)("h3",{children:e.favMovies}),Object(b.jsx)("button",{className:"btn fav-btn",onClick:function(){l?(f(!l),e.removeFav(k)):(f(!l),e.addFav(k))},children:_})]}),Object(b.jsx)("h3",{children:"Recommendations:"}),Object(b.jsx)("ul",{className:"movies-list-container",children:g.map((function(e){return Object(b.jsxs)("li",{className:"movies-list-item",onClick:function(){t.push({pathname:"/movie-details/".concat(e.id)})},children:[e.original_title,Object(b.jsx)("img",{className:"movie-image",src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.original_title})]},e.id)}))})]})})),k=n(16),_=n(40);var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:console.log(t.movie);var n=[].concat(Object(l.a)(e),[t.movie]);return n;case g:return n=e.filter((function(e){return e.id!==t.movie.id}));default:return e}},w=Object(_.a)(y);n(37).config();var N=function(){return Object(b.jsx)(O.a,{store:w,children:Object(b.jsx)(k.a,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",exact:!0,component:m}),Object(b.jsx)(j.a,{path:"/movie-details/*",exact:!0,component:x})]})})})};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.85b4be9b.chunk.js.map