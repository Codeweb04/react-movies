{"version":3,"sources":["components/Home.js","redux/movies/movieActions.js","components/Movie.js","redux/movies/movieReducer.js","redux/store.js","App.js","index.js"],"names":["require","config","Home","history","useHistory","useState","movies","setMovies","search","setSearch","page","setPage","genre","setGenre","genreItem","setGenreItem","useEffect","a","axios","get","process","then","res","data","results","map","movie","genre_ids","catch","err","console","log","fetch","genreFetch","submitHandler","e","preventDefault","getMovies","merge","id","mergedObjWithSameKey","className","onSubmit","type","placeholder","onChange","target","value","onClick","push","pathname","src","backdrop_path","alt","original_title","ADD_FAV","REMOVE_FAV","connect","addFav","removeFav","props","setMovie","fav","setFav","recommended","setRecommended","path","location","split","movieId","length","fetchRecommended","buttonText","original_language","vote_count","favMovies","recommendation","addToFavorite","state","action","favoriteMovies","filter","item","store","createStore","movieReducer","App","exact","component","Movie","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85b4be9b.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport '../styles/home.css'\r\nimport '../App.css'\r\n\r\n\r\nrequire('dotenv').config();\r\n\r\n\r\n\r\nfunction Home() {\r\n\r\n  const history = useHistory()\r\n\r\n  const [movies, setMovies] = useState([])\r\n  const [search, setSearch] = useState(\"\")\r\n  const [page, setPage] = useState(1)\r\n  const [genre, setGenre] = useState([])\r\n  const [genreItem, setGenreItem] = useState([])\r\n\r\n  useEffect(() => {\r\n    const fetch = async () => {\r\n      await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${process.env.REACT_APP_API_KEY}&language=en-US&page=${page}`)\r\n        .then(res => setMovies(res.data.results))\r\n        .then( movies.map(movie => setGenreItem([...movie.genre_ids])))\r\n        .catch(err => console.log(err))\r\n    }\r\n    fetch()\r\n\r\n    const genreFetch = async () => {\r\n      await axios.get(`https://api.themoviedb.org/3/genre/movie/list?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`)\r\n        .then(res => setGenre(res.data))\r\n        .then(console.log(genre))\r\n        .catch(err => console.log(err))\r\n    }\r\n    genreFetch()\r\n  }, [page])\r\n\r\n  const submitHandler = async (e) => {\r\n    e.preventDefault()\r\n    await axios.get(`\r\n    https://api.themoviedb.org/3/search/movie?api_key=${process.env.REACT_APP_API_KEY}&language=en-US&query=${search}&page=1&include_adult=false`)\r\n    .then(res => setMovies(res.data.results)) \r\n    .catch(err => console.log(err))\r\n  }\r\n\r\n  const getMovies = async (e) => {\r\n        await axios.get(`https://api.themoviedb.org/3/movie/popular?api_key=${process.env.REACT_APP_API_KEY}&language=en-US&page=${page}`)\r\n        .then(res => setMovies(res.data.results))\r\n        .catch(err => console.log(err))\r\n        merge()\r\n  }\r\n\r\n    const merge = (id) => {\r\n      const mergedObjWithSameKey = {\r\n        ...movies,\r\n        ...genre,\r\n      };\r\n\r\n      console.log(mergedObjWithSameKey)      \r\n    }\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"Home\">\r\n      <form onSubmit={submitHandler}>\r\n        <input type='text' placeholder='search a movie' className='search-bar' onChange={(e) => setSearch(e.target.value)}/>\r\n        <input type='submit' value='Search' className='btn'/>\r\n      </form>\r\n        \r\n      <ul className='movies-list-container'>\r\n                {\r\n                    movies.map(movie => <li className='movies-list-item' key={movie.id} onClick= {() => {\r\n                      history.push({\r\n                        pathname: `/movie-details/${movie.id}`\r\n                      })\r\n                    }}>\r\n                      <img className='movie-image' src={`https://image.tmdb.org/t/p/w500/${movie.backdrop_path}`} alt={movie.original_title}/>\r\n                      {movie.original_title}\r\n                      {genreItem}\r\n                      \r\n                   </li>)\r\n                }\r\n      </ul>\r\n      <div className='nav-btn-container'>\r\n      {page>1 ? <button className='btn' value='Previous' onClick={() => {\r\n        setPage(page - 1)\r\n        getMovies()\r\n        }}>Previous Page</button>: ''}\r\n\r\n        <button className='btn' value='Next' onClick={() => {\r\n          setPage(page + 1)\r\n          getMovies()\r\n        }}>Next</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","export const ADD_FAV = \"ADD_FAV\";\r\nexport const REMOVE_FAV = \"REMOVE_FAV\";\r\n\r\nexport const addFav = (movie) => {\r\n  return {\r\n    type: ADD_FAV,\r\n    movie,\r\n  };\r\n}\r\n\r\nexport const removeFav = (movie) => {\r\n  return {\r\n    type: REMOVE_FAV,\r\n    movie,\r\n  };\r\n}","import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios' \r\nimport { addFav, removeFav } from '../redux'\r\nimport { connect } from 'react-redux'\r\nimport { useHistory } from 'react-router-dom'\r\nimport '../styles/movie.css'\r\n\r\nfunction Movie(props) {\r\n\r\n    const history = useHistory()\r\n    \r\n    const [movie, setMovie] = useState([])\r\n    const [fav, setFav] = useState(false)\r\n    const [recommended, setRecommended] = useState([])\r\n\r\n    const path = props.location.pathname.split('/')\r\n    const movieId = path[path.length - 1]\r\n\r\n    useEffect(() => {\r\n        const fetch = async () => {\r\n          await axios.get(`https://api.themoviedb.org/3/movie/${movieId}?api_key=${process.env.REACT_APP_API_KEY}&language=en-US`)\r\n            .then(res => setMovie(res.data))\r\n            .catch(err => console.log(err))\r\n        }\r\n        fetch()\r\n\r\n        const fetchRecommended = async () => {\r\n          await axios.get(`https://api.themoviedb.org/3/movie/${movieId}/recommendations?api_key=${process.env.REACT_APP_API_KEY}&language=en-US&page=1`)\r\n            .then(res => setRecommended(res.data.results))\r\n            .catch(err => console.log(err))\r\n        }\r\n        fetchRecommended()\r\n      }, [movieId])\r\n\r\n      const addFav = () => {\r\n        setFav(!fav);\r\n        props.addFav(movieId);\r\n      }\r\n\r\n      const removeFav = () => {\r\n        setFav(!fav);\r\n        props.removeFav(movieId);\r\n      }\r\n\r\n      const changeFavStatus = () => {\r\n        if(fav) {\r\n          removeFav()\r\n        } else {\r\n          addFav()\r\n        }\r\n      }\r\n\r\n      let genres = []\r\n      const buttonText = fav ? 'Remove from Favourites' : 'Add to favourites' \r\n    return (\r\n        <div className='movie-page-container'>\r\n          <div className='movie-container'>\r\n          <img src={`https://image.tmdb.org/t/p/w500/${movie.backdrop_path}`} alt={movie.original_title}/> \r\n            <h3>Movie Title: {movie.original_title}</h3>\r\n            \r\n            <h3>Language: {movie.original_language}</h3>\r\n            <h3>Number Of Votes: {movie.vote_count}</h3>\r\n            <h3>Genres: {genres}</h3>\r\n            <h3>{props.favMovies}</h3>\r\n            <button className='btn fav-btn' onClick={changeFavStatus}>{buttonText}</button>\r\n          </div>\r\n            <h3>Recommendations:</h3>\r\n            <ul className='movies-list-container'>\r\n            {recommended.map(recommendation => <li className='movies-list-item' key={recommendation.id}\r\n              onClick= {() => {\r\n                history.push({\r\n                  pathname: `/movie-details/${recommendation.id}`\r\n                })\r\n              }}>{recommendation.original_title}<img className='movie-image' src={`https://image.tmdb.org/t/p/w500/${recommendation.backdrop_path}`} alt={recommendation.original_title}/></li>)}\r\n            </ul> \r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default connect(null, { addFav, removeFav })(Movie);\r\n","import { ADD_FAV, REMOVE_FAV } from \"./movieActions\";\r\n\r\nfunction addToFavorite(state = [], action) {\r\n  switch (action.type) {\r\n    case ADD_FAV:\r\n      console.log(action.movie)  \r\n      let favoriteMovies = [...state, action.movie];\r\n      return favoriteMovies;\r\n    case REMOVE_FAV:\r\n      favoriteMovies = state.filter((item) => item.id !== action.movie.id);\r\n      return favoriteMovies;\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default addToFavorite;","import { createStore } from 'redux'\r\nimport movieReducer from './movies/movieReducer'\r\n\r\nconst store = createStore(movieReducer)\r\n\r\nexport default store","import './App.css';\nimport Home from './components/Home'\nimport Movie from './components/Movie'\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport { Provider } from 'react-redux';\nimport store from './redux/store'\n\n\nrequire('dotenv').config();\n\n\n\nfunction App() {\n  \n  return (\n    <Provider store={store}>\n    <Router>\n      <Switch>\n        <Route path=\"/\" exact component={Home}/>\n        <Route path=\"/movie-details/*\" exact component={Movie}/>\n      </Switch>\n    </Router>\n  </Provider>\n  )\n}\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}