(this["webpackJsonpmovies-app"]=this["webpackJsonpmovies-app"]||[]).push([[0],{26:function(e,t,n){},44:function(e,t,n){},63:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(15),i=n.n(r),o=(n(44),n(26),n(4)),s=n.n(o),u=n(10),l=n(9),f=n(11),p=n.n(f),d=n(2),h=(n(63),n(1));n(35).config();var b=function(){var e=Object(d.f)(),t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],r=n[1],i=Object(a.useState)(""),o=Object(l.a)(i,2),f=o[0],b=o[1],j=Object(a.useState)(1),m=Object(l.a)(j,2),v=m[0],g=m[1],O=Object(a.useState)([]),x=Object(l.a)(O,2),_=(x[0],x[1],Object(a.useState)([])),k=Object(l.a)(_,2),w=k[0];k[1],Object(a.useEffect)((function(){(function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&page=").concat(v)).then((function(e){return r(e.data.results)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US")).then((function(e){return console.log(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[v]);var N=function(){var e=Object(u.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&query=").concat(f,"&page=1&include_adult=false")).then((function(e){return r(e.data.results)})).catch((function(e){return console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://api.themoviedb.org/3/movie/popular?api_key=".concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&page=").concat(v)).then((function(e){return r(e.data.results)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"Home",children:[Object(h.jsxs)("form",{onSubmit:N,children:[Object(h.jsx)("input",{type:"text",placeholder:"search a movie",className:"search-bar",onChange:function(e){return b(e.target.value)}}),Object(h.jsx)("input",{type:"submit",value:"Search",className:"btn"})]}),Object(h.jsx)("ul",{className:"movies-list-container",children:c.map((function(t){return Object(h.jsxs)("li",{className:"movies-list-item",onClick:function(){e.push({pathname:"/movie-details/".concat(t.id)})},children:[Object(h.jsx)("img",{className:"movie-image",src:"https://image.tmdb.org/t/p/w500/".concat(t.backdrop_path),alt:t.original_title}),t.original_title,w]},t.id)}))}),Object(h.jsxs)("div",{className:"nav-btn-container",children:[v>1?Object(h.jsx)("button",{className:"btn",value:"Previous",onClick:function(){g(v-1),S()},children:"Previous Page"}):"",Object(h.jsx)("button",{className:"btn",value:"Next",onClick:function(){g(v+1),S()},children:"Next"})]})]})},j="ADD_FAV",m="REMOVE_FAV",v=n(18);n(77);var g=Object(v.b)((function(e){return{favMovies:e}}),{addFav:function(e){return{type:j,movieId:e}},removeFav:function(e){return{type:m,movieId:e}}})((function(e){var t=Object(d.f)(),n=Object(a.useState)([]),c=Object(l.a)(n,2),r=c[0],i=c[1],o=Object(a.useState)(!1),f=Object(l.a)(o,2),b=f[0],j=f[1],m=Object(a.useState)([]),v=Object(l.a)(m,2),g=v[0],O=v[1],x=e.location.pathname.split("/"),_=x[x.length-1];Object(a.useEffect)((function(){(function(){var t=Object(u.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("https://api.themoviedb.org/3/movie/".concat(_,"?api_key=").concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US")).then((function(e){return i(e.data)})).catch((function(e){return console.log(e)}));case 2:j(!1),e.favMovies.forEach((function(e){e===_&&j(!0)}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("https://api.themoviedb.org/3/movie/".concat(_,"/recommendations?api_key=").concat("d3d6ced870a8667a7fc11f36236e60e4","&language=en-US&page=1")).then((function(e){return O(e.data.results)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[_]),Object(a.useEffect)((function(){}));var k=b?"Remove from Favourites":"Add to favourites";return Object(h.jsxs)("div",{className:"movie-page-container",children:[Object(h.jsxs)("div",{className:"movie-container",children:[Object(h.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(r.backdrop_path),alt:r.original_title}),Object(h.jsxs)("h3",{children:["Movie Title: ",r.original_title]}),_,Object(h.jsxs)("h3",{children:["Language: ",r.original_language]}),Object(h.jsxs)("h3",{children:["Number Of Votes: ",r.vote_count]}),Object(h.jsx)("button",{className:"btn fav-btn",onClick:function(){b?(e.removeFav(_),j(!1)):(e.addFav(_),j(!0))},children:k})]}),Object(h.jsx)("h3",{children:"Recommendations:"}),Object(h.jsx)("ul",{className:"movies-list-container",children:g.map((function(e){return Object(h.jsxs)("li",{className:"movies-list-item",onClick:function(){t.push({pathname:"/movie-details/".concat(e.id)})},children:[e.original_title,Object(h.jsx)("img",{className:"movie-image",src:"https://image.tmdb.org/t/p/w500/".concat(e.backdrop_path),alt:e.original_title})]},e.id)}))})]})})),O=n(16),x=n(39),_=n(38);var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return[].concat(Object(_.a)(e),[t.movieId]);case m:return e.filter((function(e){return e!==t.movieId}));default:return e}},w=Object(x.a)(k,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());n(35).config();var N=function(){return Object(h.jsx)(v.a,{store:w,children:Object(h.jsx)(O.a,{children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/",exact:!0,component:b}),Object(h.jsx)(d.a,{path:"/movie-details/*",exact:!0,component:g})]})})})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.48a096f3.chunk.js.map